{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rami/Documents/Dev/LUX : Metalyde/Mintpage/Metakyde-Lux/Metalyde-Lux-Christmas-Raffle/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rami/Documents/Dev/LUX : Metalyde/Mintpage/Metakyde-Lux/Metalyde-Lux-Christmas-Raffle/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rami/Documents/Dev/LUX : Metalyde/Mintpage/Metakyde-Lux/Metalyde-Lux-Christmas-Raffle/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import useEth from\"../contexts/EthContext/useEth\";import{useState}from\"react\";import\"./Home.css\";import React from\"react\";import Navbar from\"./Navbar/Navbar\";import LandingPage from\"./LandingPage/LandingPage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var _useEth=useEth(),_useEth$state=_useEth.state,contract=_useEth$state.contract,accounts=_useEth$state.accounts,isOwner=_useEth$state.isOwner,isMintOn=_useEth$state.isMintOn,mintPrice=_useEth$state.mintPrice;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),number=_useState2[0],setNumber=_useState2[1];var handleNumberChange=function handleNumberChange(e){setNumber(parseInt(e.target.value));};var mint=function mint(){contract.methods.mint(number).send({from:accounts[0],value:mintPrice});};// const [myNft, setMyNft] = useState(\"?\");\n// const balanceOf = async () => {\n//   const value = await contract.methods.balanceOf(accounts[0]).call();\n//   setMyNft(value);\n// };\nvar _useState3=useState(),_useState4=_slicedToArray(_useState3,2),uri=_useState4[0],setURI=_useState4[1];var handleSetURI=function handleSetURI(e){setURI(e.target.value);};var setBaseURI=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return contract.methods.setBaseURI(uri).send({from:accounts[0]});case 2:case\"end\":return _context.stop();}}},_callee);}));return function setBaseURI(){return _ref.apply(this,arguments);};}();var _useState5=useState(\"?\"),_useState6=_slicedToArray(_useState5,2),rrr=_useState6[0],setRrr=_useState6[1];var getURI=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var value;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return contract.methods.tokenURI(0).call({from:accounts[0]});case 2:value=_context2.sent;setRrr(value);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function getURI(){return _ref2.apply(this,arguments);};}();var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),price=_useState8[0],setPrice=_useState8[1];var handleChangePrice=function handleChangePrice(e){if(e.target.value<0){setPrice(0);}else{setPrice(parseInt(e.target.value));}};var enableMint=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return contract.methods.enableMint().send({from:accounts[0]});case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function enableMint(){return _ref3.apply(this,arguments);};}();var stopMint=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return contract.methods.stopMint().send({from:accounts[0]});case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function stopMint(){return _ref4.apply(this,arguments);};}();var mintPartnership=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return contract.methods.mintPartnership(number).send({from:accounts[0]});case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function mintPartnership(){return _ref5.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:isOwner?/*#__PURE__*/_jsxs(\"div\",{children:[\"Pannaux d'admin : \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{onChange:handleSetURI,type:\"text\",value:uri,placeholder:\"new URI\"}),/*#__PURE__*/_jsx(\"button\",{onClick:setBaseURI,children:\"set new uri\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Current URI : \",rrr,/*#__PURE__*/_jsx(\"button\",{onClick:getURI,children:\"get URI\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChangePrice,type:\"number\",value:price,placeholder:\"new price in wei\"}),/*#__PURE__*/_jsx(\"button\",{onClick:setBaseURI,children:\"set new price in wei\"}),\" \\xA0\\xA0Check this website to convert eth in wei : https://eth-converter.com/ \",/*#__PURE__*/_jsx(\"br\",{}),isMintOn?/*#__PURE__*/_jsxs(_Fragment,{children:[\"Turn mint off\",/*#__PURE__*/_jsx(\"button\",{onClick:stopMint,children:\"Off\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Turn mint on\",/*#__PURE__*/_jsx(\"button\",{onClick:enableMint,children:\"ON\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{onChange:handleNumberChange,value:number,id:\"mint\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6\",children:\"6\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7\",children:\"7\"}),/*#__PURE__*/_jsx(\"option\",{value:\"8\",children:\"8\"}),/*#__PURE__*/_jsx(\"option\",{value:\"9\",children:\"9\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:mintPartnership,children:\"Mint\"}),\"\\xA0\\xA0\\xA0 Do not require to set mint on\"]}):/*#__PURE__*/ // FIN PAGE ADMIN\n// (par défaut)Page de base quand on est connecté\n_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsx(LandingPage,{}),\"Le mint est \",isMintOn?\"Live !\":\"en pause. Stay tuned !\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Le prix du mint est \",mintPrice/1000000000000000000,\" eth\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{onChange:handleNumberChange,value:number,id:\"mint\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:mint,children:\"Mint\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})]})});}","map":{"version":3,"names":["useEth","useState","React","Navbar","LandingPage","Home","state","contract","accounts","isOwner","isMintOn","mintPrice","number","setNumber","handleNumberChange","e","parseInt","target","value","mint","methods","send","from","uri","setURI","handleSetURI","setBaseURI","rrr","setRrr","getURI","tokenURI","call","price","setPrice","handleChangePrice","enableMint","stopMint","mintPartnership"],"sources":["/Users/rami/Documents/Dev/LUX : Metalyde/Mintpage/Metakyde-Lux/Metalyde-Lux-Christmas-Raffle/client/src/components/Home.jsx"],"sourcesContent":["import useEth from \"../contexts/EthContext/useEth\";\nimport { useState } from \"react\";\nimport \"./Home.css\"\nimport React from \"react\";\nimport Navbar from \"./Navbar/Navbar\";\nimport LandingPage from \"./LandingPage/LandingPage\";\n\nexport default function Home() {\n  const {\n    state: { contract, accounts, isOwner, isMintOn, mintPrice },\n  } = useEth();\n\n  const [number, setNumber] = useState(1);\n\n  const handleNumberChange = (e) => {\n      setNumber(parseInt(e.target.value));\n  };\n\n  const mint = () => {\n    contract.methods.mint(number).send({ from: accounts[0], value: mintPrice });\n  };\n\n  // const [myNft, setMyNft] = useState(\"?\");\n\n  // const balanceOf = async () => {\n  //   const value = await contract.methods.balanceOf(accounts[0]).call();\n  //   setMyNft(value);\n  // };\n  const [uri, setURI] = useState();\n\n  const handleSetURI = e => {\n    setURI(e.target.value);\n  }\n  const setBaseURI = async () => {\n     await contract.methods.setBaseURI(uri).send({from : accounts[0]});\n  }\n\n  const [rrr, setRrr] = useState(\"?\");\n  const getURI = async () => {\n    const value = await contract.methods.tokenURI(0).call({from : accounts[0]});\n    setRrr(value);\n }\n  \n const [price, setPrice] = useState();\n const handleChangePrice = e => {\n  if (e.target.value < 0){\n    setPrice(0);\n  }else {\n    setPrice(parseInt(e.target.value));\n  }\n }\n const enableMint = async () => {\n  await contract.methods.enableMint().send({from: accounts[0]});\n }\n const stopMint = async () => {\n  await contract.methods.stopMint().send({from: accounts[0]});\n }\n\n const mintPartnership = async () => {\n  await contract.methods.mintPartnership(number).send({from : accounts[0]});\n }\n  return (\n    <>\n      {isOwner ? \n      <div>\n        Pannaux d'admin : <br />\n        <input onChange={handleSetURI} type=\"text\" value={uri} placeholder=\"new URI\" />\n        <button onClick={setBaseURI}>set new uri</button><br />\n        Current URI : {rrr}\n        <button onClick={getURI}>get URI</button><br />\n        <input onChange={handleChangePrice} type=\"number\" value={price} placeholder=\"new price in wei\" />\n        <button onClick={setBaseURI}>set new price in wei</button>   Check this website to convert eth in wei : https://eth-converter.com/ <br />\n        {/* ------------------------------------------------------------ */}\n        {isMintOn ? \n        <>\n        Turn mint off\n        <button onClick={stopMint}>Off</button>\n        </>\n        :\n        <>\n        Turn mint on\n        <button onClick={enableMint}>ON</button>\n        </>\n        }\n        {/* ------------------------------------------------------------ */}\n        <br />\n        <select onChange={handleNumberChange} value={number} id=\"mint\">\n          <option value=\"1\">1</option>\n          <option value=\"2\">2</option>\n          <option value=\"3\">3</option>\n          <option value=\"4\">4</option>\n          <option value=\"5\">5</option>\n          <option value=\"6\">6</option>\n          <option value=\"7\">7</option>\n          <option value=\"8\">8</option>\n          <option value=\"9\">9</option>\n          <option value=\"10\">10</option>\n        </select>\n        <button onClick={mintPartnership}>Mint</button>    Do not require to set mint on\n      </div>\n      :\n     // FIN PAGE ADMIN\n     // (par défaut)Page de base quand on est connecté\n    <section>\n      <Navbar/>\n      <div className=\"page-container\">\n\n      <LandingPage/>\n      Le mint est {isMintOn ? \"Live !\": \"en pause. Stay tuned !\"}<br /><br />\n      Le prix du mint est {mintPrice/1000000000000000000} eth<br /><br />\n      <select onChange={handleNumberChange} value={number} id=\"mint\">\n        <option value=\"1\">1</option>\n        <option value=\"2\">2</option>\n        <option value=\"3\">3</option>\n        <option value=\"4\">4</option>\n      </select>\n      <button onClick={mint}>Mint</button><br /><br />\n      {/* <div>My NFT</div>\n      <div>{myNft}</div><br />\n    <button onClick={balanceOf}>Check</button> */}\n    </div>\n    </section>\n     }\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}