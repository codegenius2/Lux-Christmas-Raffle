var w=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var D=Object.prototype.hasOwnProperty;var L=(t,n)=>{for(var e in n)w(t,e,{get:n[e],enumerable:!0})},_=(t,n,e,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of k(n))!D.call(t,o)&&o!==e&&w(t,o,{get:()=>n[o],enumerable:!(r=A(n,o))||r.enumerable});return t};var R=t=>_(w({},"__esModule",{value:!0}),t);var tt={};L(tt,{baseUrls:()=>X,clientNames:()=>B,crossmintModalService:()=>j,crossmintPayButtonService:()=>q,crossmintStatusButtonService:()=>Z,crossmintStatusService:()=>K,customHeaders:()=>x,generateClientId:()=>V,mintingContractTypes:()=>N,onboardingRequestStatusResponse:()=>T,paymentMethodIsEth:()=>$,paymentMethodIsSol:()=>H});module.exports=R(tt);var M=require("uuid");function V(){return(0,M.v4)()}var B=(e=>(e.reactUi="client-sdk-react-ui",e.vanillaUi="client-sdk-vanilla-ui",e))(B||{}),X=(r=>(r.prod="https://www.crossmint.io",r.staging="https://staging.crossmint.io/",r.dev="http://localhost:3001",r))(X||{}),x=(e=>(e.clientVersion="X-Client-Version",e.clientName="X-Client-Name",e))(x||{}),$=t=>t==="ETH",H=t=>t==="SOL",N=(r=>(r.CANDY_MACHINE="candy-machine",r.SOLANA_AUCTION="solana-auction",r.ERC_721="erc-721",r))(N||{}),T=(s=>(s.WAITING_SUBMISSION="waiting-submission",s.PENDING="pending",s.REJECTED="rejected",s.ACCEPTED="accepted",s.INVALID="invalid",s))(T||{});var p=(t="")=>{let n=["prod","production"];return t==="staging"?"https://staging.crossmint.io/":n.includes(t)||!t?"https://www.crossmint.io":t};var E="__crossmint-overlay__",G=400,Q=750,W=()=>{let t=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return t?parseInt(t[2]):null};function Y(t,n){function e(){return(window==null?void 0:window.top)!=null?window.top.outerWidth/2+window.top.screenX-t/2:window.outerWidth/2+window.screenX-t/2}function r(){return(window==null?void 0:window.top)!=null?window.top.outerHeight/2+window.top.screenY-n/2:window.outerHeight/2+window.screenY-n/2}let o=W();return`${o&&o>99?"popup=true,":""}height=${n},width=${t},left=${e()},top=${r()},resizable=yes,scrollbars=yes,toolbar=yes,menubar=true,location=no,directories=no, status=yes`}var J=t=>{let n=document.createElement("div");n.setAttribute("id",E);let e={width:"100vw",height:"100vh","background-color":"rgba(0, 0, 0, 0.5)",position:"fixed","z-index":"99999999",top:"0",left:"0"};Object.assign(n.style,e),document.body.appendChild(n),t&&n.addEventListener("click",()=>{O()})},O=()=>{let t=document.getElementById(E);t&&t.remove()};function j({clientId:t,libVersion:n,showOverlay:e,dismissOverlayOnClick:r,setConnecting:o,environment:s,clientName:a}){let d=(u,i,l,g,f,h,y)=>{let C=p(s),U=encodeURIComponent(`${C}/checkout/mint?${(()=>{let m={clientId:t,closeOnSuccess:"false",clientName:a,clientVersion:n,mintConfig:JSON.stringify(u)};return i&&(m.mintTo=i),l&&(m.emailTo=l),g&&(m.listingId=g),f&&(m.whPassThroughArgs=JSON.stringify(f)),h&&(m.paymentMethod=h.toLowerCase()),y&&(m.preferredSigninMethod=y),new URLSearchParams(m).toString()})()}`),b=`${C}/signin?callbackUrl=${U}`,P=window.open(b,"popUpWindow",Y(G,Q));if(P){S(P),e&&J(r);return}o(!1),window.open(b,"_blank")||console.error("Failed to open popup window and new tab")},I=(u,i,l,g,f,h,y)=>{o(!0),d(u,i,l,g,f,h,y)};function S(u){let i=setInterval(function(){u.closed&&(clearInterval(i),o(!1),e&&O())},500)}return{connect:I}}function q({onClick:t,connecting:n,paymentMethod:e}){return{getButtonText:a=>{if(a)return"Connecting...";switch(e){case"ETH":return"Buy with ETH";case"SOL":return"Buy with SOL";default:return"Buy with credit card"}},shouldHideButton:({hideMintOnInactiveClient:a,status:d})=>a&&d!=="accepted",handleClick:(a,d)=>{t&&t(a),!n&&(a.defaultPrevented||d())}}}var z=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function v(t){return typeof t=="string"&&z.test(t)}var F=t=>{try{return v(t)}catch(n){return console.error(n),!1}};function K({libVersion:t,clientId:n,platformId:e,auctionId:r,mintConfig:o,setStatus:s,environment:a,clientName:d}){async function I(){if(!n||n===""||n==="<YOUR_CLIENT_ID>"){console.error("You must enter your own Crossmint client ID in <CrossmintPayButton clientId=XXX>");return}if(!F(n)){console.error("The clientId passed to is invalid. Make sure to pass the clientId obtained from the crossmint team, with format XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXX");return}let i=p(a),l=await fetch(`${i}/api/crossmint/onboardingRequests/${n}/status`,{headers:{["X-Client-Version"]:t,["X-Client-Name"]:d}});if(l.status===200){let g=await l.json();s(g.status)}else s("invalid")}let S=()=>{let i=p(a);window.open(`${i}/developers/onboarding?${u()}`,"_blank")},u=()=>{let i={clientId:n};return e&&(i.platformId=e),r&&(i.auctionId=r),o&&(i.mintConfig=JSON.stringify(o)),new URLSearchParams(i).toString()};return{fetchClientIntegration:I,goToOnboarding:S}}function Z({onClick:t}){return{getButtonText:o=>{switch(o){case"invalid":return"Invalid clientId";case"waiting-submission":return"Click here to setup Crossmint";case"pending":return"Your application is under review";case"accepted":return"You're good to go!";case"rejected":return"Your application was rejected"}},isButtonDisabled:o=>o!=="waiting-submission",handleClick:(o,s,a)=>{t&&t(o),s==="waiting-submission"&&a()}}}0&&(module.exports={baseUrls,clientNames,crossmintModalService,crossmintPayButtonService,crossmintStatusButtonService,crossmintStatusService,customHeaders,generateClientId,mintingContractTypes,onboardingRequestStatusResponse,paymentMethodIsEth,paymentMethodIsSol});
